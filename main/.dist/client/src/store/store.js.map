{"version":3,"file":"store.js","sourceRoot":"","sources":["../../../../client/src/store/store.ts"],"names":[],"mappings":";;;;;AACA,+BAAuC;AACvC,4EAAmD;AACnD,MAAqB,KAAK;IAItB;QAHA,SAAI,GAAG,EAAW,CAAC;QACnB,WAAM,GAAG,KAAK,CAAC;QAGX,IAAA,yBAAkB,EAAC,IAAI,CAAC,CAAC;IAC7B,CAAC;IAED,OAAO,CAAC,IAAa;QACjB,IAAI,CAAC,MAAM,GAAG,IAAI,CAAC;IACvB,CAAC;IAED,OAAO,CAAC,IAAW;QACf,IAAI,CAAC,IAAI,GAAG,IAAI,CAAC;IACrB,CAAC;IAED,KAAK,CAAC,KAAK,CAAC,QAAgB,EAAE,QAAgB;;QAC1C,IAAI;YACA,MAAM,QAAQ,GAAG,MAAM,sBAAW,CAAC,KAAK,CAAC,QAAQ,EAAE,QAAQ,CAAC,CAAC;YAC7D,YAAY,CAAC,OAAO,CAAC,OAAO,EAAE,QAAQ,CAAC,IAAI,CAAC,YAAY,CAAC,CAAC;YAC1D,OAAO,CAAC,GAAG,CAAC,QAAQ,CAAC,CAAC;YACtB,IAAI,CAAC,OAAO,CAAC,IAAI,CAAC,CAAC;YACnB,IAAI,CAAC,OAAO,CAAC,QAAQ,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;SACpC;QAAC,OAAO,CAAC,EAAE;YACR,aAAa;YACb,OAAO,CAAC,GAAG,CAAC,MAAA,MAAA,CAAC,CAAC,QAAQ,0CAAE,IAAI,0CAAE,OAAO,CAAC,CAAA;SACzC;IACL,CAAC;IACD,KAAK,CAAC,YAAY,CAAC,QAAgB,EAAE,QAAgB;;QACjD,IAAI;YACA,MAAM,QAAQ,GAAG,MAAM,sBAAW,CAAC,YAAY,CAAC,QAAQ,EAAE,QAAQ,CAAC,CAAC;YACpE,YAAY,CAAC,OAAO,CAAC,OAAO,EAAE,QAAQ,CAAC,IAAI,CAAC,YAAY,CAAC,CAAC;YAC1D,OAAO,CAAC,GAAG,CAAC,QAAQ,CAAC,CAAC;YACtB,IAAI,CAAC,OAAO,CAAC,IAAI,CAAC,CAAC;YACnB,IAAI,CAAC,OAAO,CAAC,QAAQ,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;SACpC;QAAC,OAAO,CAAC,EAAE;YACR,aAAa;YACb,OAAO,CAAC,GAAG,CAAC,MAAA,MAAA,CAAC,CAAC,QAAQ,0CAAE,IAAI,0CAAE,OAAO,CAAC,CAAA;SACzC;IACL,CAAC;IACD,KAAK,CAAC,MAAM;;QACR,IAAI;YACA,MAAM,QAAQ,GAAG,MAAM,sBAAW,CAAC,MAAM,EAAE,CAAC;YAC5C,YAAY,CAAC,UAAU,CAAC,OAAO,CAAC,CAAC;YACjC,OAAO,CAAC,GAAG,CAAC,QAAQ,CAAC,CAAC;YACtB,IAAI,CAAC,OAAO,CAAC,KAAK,CAAC,CAAC;YACpB,IAAI,CAAC,OAAO,CAAC,EAAW,CAAC,CAAC;SAC7B;QAAC,OAAO,CAAC,EAAE;YACR,aAAa;YACb,OAAO,CAAC,GAAG,CAAC,MAAA,MAAA,CAAC,CAAC,QAAQ,0CAAE,IAAI,0CAAE,OAAO,CAAC,CAAA;SACzC;IACL,CAAC;CACJ;AApDD,wBAoDC","sourcesContent":["import {IUser} from \"../models/i_user\";\nimport {makeAutoObservable} from 'mobx'\nimport AuthService from \"../services/auth_service\";\nexport default class Store {\n    user = {} as IUser;\n    isAuth = false;\n\n    constructor() {\n        makeAutoObservable(this);\n    }\n\n    setAuth(bool: boolean) {\n        this.isAuth = bool;\n    }\n\n    setUser(user: IUser) {\n        this.user = user;\n    }\n\n    async login(username: string, password: string) {\n        try {\n            const response = await AuthService.login(username, password);\n            localStorage.setItem('token', response.data.access_token);\n            console.log(response);\n            this.setAuth(true);\n            this.setUser(response.data.user);\n        } catch (e) {\n            // @ts-ignore\n            console.log(e.response?.data?.message)\n        }\n    }\n    async registration(username: string, password: string) {\n        try {\n            const response = await AuthService.registration(username, password);\n            localStorage.setItem('token', response.data.access_token);\n            console.log(response);\n            this.setAuth(true);\n            this.setUser(response.data.user);\n        } catch (e) {\n            // @ts-ignore\n            console.log(e.response?.data?.message)\n        }\n    }\n    async logout() {\n        try {\n            const response = await AuthService.logout();\n            localStorage.removeItem('token');\n            console.log(response);\n            this.setAuth(false);\n            this.setUser({} as IUser);\n        } catch (e) {\n            // @ts-ignore\n            console.log(e.response?.data?.message)\n        }\n    }\n}"]}