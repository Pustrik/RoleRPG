{"version":3,"file":"auth.js","sourceRoot":"","sources":["../../routers/auth.ts"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA,iEAAmD;AACnD,sDAA8B;AAC9B,yDAA8C;AAC9C,sEAA8C;AAC9C,MAAM,WAAW,GAAG,iBAAO,CAAC,MAAM,EAAE,CAAC;AACrC,WAAW,CAAC,IAAI,CAAC,QAAQ,EAAE,WAAW,CAAC,SAAS,CAAC,CAAC;AAClD,WAAW,CAAC,IAAI,CAAC,eAAe,EAC5B,IAAA,wBAAI,EAAC,UAAU,CAAC,CAAC,QAAQ,CAAC,EAAC,GAAG,EAAE,CAAC,EAAE,GAAG,EAAE,EAAE,EAAC,CAAC,EAC5C,IAAA,wBAAI,EAAC,UAAU,CAAC,CAAC,QAAQ,CAAC,EAAC,GAAG,EAAE,CAAC,EAAE,GAAG,EAAE,EAAE,EAAC,CAAC,EAC5C,IAAA,wBAAI,EAAC,YAAY,CAAE,CAAC,MAAM,CAAC,CAAC,KAAK,EAAE,EAAC,GAAG,EAAC,EAAE,EAAE;IACxC,IAAG,KAAK,CAAC,QAAQ,EAAE,IAAI,GAAG,CAAC,IAAI,CAAC,QAAQ,CAAC,QAAQ,EAAE;QAC/C,OAAO,OAAO,CAAC,MAAM,CAAC,iBAAiB,CAAC,CAAC;IAC7C,OAAO,IAAI,CAAC;AAChB,CAAC,CAAC,EACF,IAAA,wBAAI,EAAC,OAAO,CAAC,CAAC,OAAO,EAAE,EACvB,WAAW,CAAC,gBAAgB,CAAC,CAAC;AAClC,WAAW,CAAC,IAAI,CAAC,SAAS,EAAE,WAAW,CAAC,UAAU,CAAC,CAAC;AACpD,WAAW,CAAC,GAAG,CAAC,UAAU,EAAE,WAAW,CAAC,UAAU,CAAC,CAAC;AACpD,WAAW,CAAC,GAAG,CAAC,QAAQ,EAAE,kBAAQ,EAAE,WAAW,CAAC,WAAW,CAAC,CAAC;AAC7D,kBAAe,WAAW,CAAC","sourcesContent":["import * as controllers from \"../controllers/auth\";\nimport express from 'express';\nimport {body, check} from 'express-validator';\nimport passport from \"../middleware/passport\";\nconst auth_router = express.Router();\nauth_router.post('/login', controllers.loginPost);\nauth_router.post('/registration',\n    body('username').isLength({min: 1, max: 15}),\n    body('password').isLength({min: 1, max: 15}),\n    body('password_d' ).custom((value, {req}) => {\n        if(value.toString() != req.body.password.toString())\n            return Promise.reject('Не равны пароли');\n        return true;\n    }),\n    body('email').isEmail(),\n    controllers.registrationPost);\nauth_router.post('/logout', controllers.logoutPost);\nauth_router.get('/refresh', controllers.refreshGet);\nauth_router.get('/users', passport, controllers.allUsersGet);\nexport default auth_router;"]}